<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Play စတိုင် App Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Padauk:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <link rel="stylesheet" href="styles.css"> 
</head>
<body class="min-h-screen antialiased">

    <script type="module" src="script.js"></script>

    <div id="app" class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

        <header class="sticky top-0 z-30 bg-f0f2f5 pt-2 pb-4">
            <div class="flex items-center space-x-3 bg-white p-2 rounded-full shadow-play w-full max-w-7xl mx-auto border-t-2 border-play-green">
                
                <button onclick="window.setView('all')" class="flex items-center text-play-green hover:text-active-blue transition duration-150" title="App အားလုံး View ကို ပြန်သွားရန်">
                    <i data-lucide="play-circle" class="w-6 h-6 ml-2 fill-play-green/10"></i>
                </button>
                

                <input type="text" id="searchInput" placeholder="App များကို ရှာဖွေပါ..."
                        class="flex-grow p-1 text-gray-700 placeholder-gray-400 bg-transparent focus:outline-none"
                        oninput="filterApps()">

                <button id="submitAppBtn" 
                        class="flex items-center justify-center p-2 rounded-full bg-play-green text-white hover:bg-active-blue-dark active:bg-blue-700 transition duration-150 shadow-md"
                        title="App အသစ် တင်သွင်းရန်">
                    <i data-lucide="upload-cloud" class="w-5 h-5"></i>
                </button>
                
                <button id="userDisplayBtn" 
                        class="flex items-center justify-center w-9 h-9 rounded-full bg-play-green text-white font-bold text-xs shadow-md ring-2 ring-play-green/50 hover:ring-active-blue transition duration-150"
                        title="Profile ကို ဖွင့်ရန်">
                    </button>
            </div>
        </header>

        <nav class="sticky top-[72px] z-20 bg-f0f2f5 pt-2 pb-3">
            <div class="flex overflow-x-auto scrollbar-hide space-x-4 px-1 pb-1">
                <button id="nav-All" onclick="window.setCategoryFilter('All')" class="nav-category-btn text-gray-500 font-medium whitespace-nowrap transition duration-150 transform hover:scale-105">App အားလုံး</button>
                <button id="nav-Games" onclick="window.setCategoryFilter('Games')" class="nav-category-btn text-gray-500 font-medium whitespace-nowrap transition duration-150 transform hover:scale-105">ဂိမ်းများ</button>
                <button id="nav-Utility" onclick="window.setCategoryFilter('Utility')" class="nav-category-btn text-gray-500 font-medium whitespace-nowrap transition duration-150 transform hover:scale-105">အသုံးဝင်မှု</button>
                <button id="nav-Social" onclick="window.setCategoryFilter('Social')" class="nav-category-btn text-gray-500 font-medium whitespace-nowrap transition duration-150 transform hover:scale-105">လူမှုရေး</button>
                <button id="nav-Entertainment" onclick="window.setCategoryFilter('Entertainment')" class="nav-category-btn text-gray-500 font-medium whitespace-nowrap transition duration-150 transform hover:scale-105">ဖျော်ဖြေရေး</button>
            </div>
            <div class="h-px bg-gray-200 mt-2"></div>
        </nav>

        <main class="py-4">
            
            <div class="flex justify-between items-center mb-6">
                <h2 id="viewTitle" class="text-2xl font-bold text-gray-800">အသစ်ဆုံး App များအားလုံး</h2>
                <div id="backToAllContainer">
                    </div>
            </div>

            <div id="appListContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
                </div>

            <div id="loadingIndicator" class="flex justify-center items-center py-10">
                <svg class="animate-spin -ml-1 mr-3 h-8 w-8 text-play-green" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <span class="text-gray-600 font-medium">App များကို ဆွဲယူနေပါသည်...</span>
            </div>

            <div id="noResults" class="hidden text-center py-20">
                <i data-lucide="package-x" class="w-12 h-12 mx-auto mb-4 text-gray-400"></i>
                <p id="noResultsText" class="text-gray-600 text-lg font-medium">ရှာဖွေမှုရလဒ် မတွေ့ရှိပါ။</p>
                <button onclick="document.getElementById('searchInput').value=''; window.setCategoryFilter('All'); window.filterApps();" 
                        class="mt-4 text-active-blue hover:text-blue-700 font-semibold transition duration-150">
                    Search ရှင်းပြီး အားလုံးပြန်ကြည့်ရန်
                </button>
            </div>
            
        </main>
        
    </div>

    <footer class="fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 shadow-lg p-2">
        <div class="max-w-7xl mx-auto flex justify-around items-center h-14">
            <button onclick="window.setView('all')" class="flex flex-col items-center text-active-blue">
                <i data-lucide="layout-grid" class="w-5 h-5"></i>
                <span class="text-xs font-semibold mt-0.5">App များ</span>
            </button>
            <button onclick="window.setView('mine')" class="flex flex-col items-center text-gray-500 hover:text-active-blue transition duration-150">
                <i data-lucide="user-square" class="w-5 h-5"></i>
                <span class="text-xs font-medium mt-0.5">ကျွန်ုပ်၏ Apps</span>
            </button>
            <button class="flex flex-col items-center text-gray-500 hover:text-active-blue transition duration-150">
                <i data-lucide="book-open" class="w-5 h-5"></i>
                <span class="text-xs font-medium mt-0.5">စာအုပ်များ</span>
            </button>
            <button class="flex flex-col items-center text-gray-500 hover:text-active-blue transition duration-150">
                <i data-lucide="clapperboard" class="w-5 h-5"></i>
                <span class="text-xs font-medium mt-0.5">ဖျော်ဖြေရေး</span>
            </button>
        </div>
    </footer>


    <div id="submitAppModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="flex items-start justify-center min-h-screen pt-10 pb-20 px-4">
            <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg mt-10 transform transition-all modal-content">
                
                <div class="p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white rounded-t-xl z-10">
                    <h3 class="text-xl font-bold text-play-green">App အသစ် တင်သွင်းရန်</h3>
                    <button id="closeModalBtn" class="text-gray-400 hover:text-gray-600 transition duration-150">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <form id="appSubmissionForm" class="p-6 space-y-4">
                    <div>
                        <label for="appName" class="block text-sm font-medium text-gray-700">App နာမည် (မြန်မာ/အင်္ဂလိပ်)</label>
                        <input type="text" id="appName" name="appName" required 
                               class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-active-blue focus:ring-active-blue">
                    </div>

                    <div>
                        <label for="appDescription" class="block text-sm font-medium text-gray-700">ဖော်ပြချက် (Description)</label>
                        <textarea id="appDescription" name="appDescription" rows="3" required 
                                  class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-active-blue focus:ring-active-blue"></textarea>
                    </div>

                    <div>
                        <label for="appCategory" class="block text-sm font-medium text-gray-700">အမျိုးအစား (Category)</label>
                        <select id="appCategory" name="appCategory" required
                                class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 bg-white focus:border-active-blue focus:ring-active-blue">
                            <option value="Utility">အသုံးဝင်မှု (Utility)</option>
                            <option value="Games">ဂိမ်း (Games)</option>
                            <option value="Social">လူမှုရေး (Social)</option>
                            <option value="Entertainment">ဖျော်ဖြေရေး (Entertainment)</option>
                        </select>
                    </div>

                    <div>
                        <label for="mediaFireLink" class="block text-sm font-medium text-gray-700">
                            ဒေါင်းလုတ်လင့်ခ် (Google Drive, MediaFire, Mega)
                        </label>
                        <input type="url" id="mediaFireLink" name="mediaFireLink" required 
                               placeholder="ဥပမာ: https://drive.google.com/..."
                               class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-active-blue focus:ring-active-blue">
                        <p class="mt-1 text-xs text-gray-500">Apk ဖိုင်ကို တင်ထားသော လင့်ခ်အပြည့်အစုံ လိုအပ်ပါသည်။</p>
                    </div>
                    
                    <div>
                        <label for="iconUrl" class="block text-sm font-medium text-gray-700">App Icon ပုံလင့်ခ် (URL)</label>
                        <input type="url" id="iconUrl" name="iconUrl" required 
                               placeholder="ဥပမာ: https://image.com/icon.png"
                               class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-active-blue focus:ring-active-blue">
                        <p class="mt-1 text-xs text-gray-500">App ၏ မျက်နှာပြင် Icon ပုံလင့်ခ်ကို ထည့်ပါ။</p>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700">တင်သွင်းသူ အချက်အလက်</label>
                        <input type="text" id="submitterNameInput" readonly disabled class="mt-1 block w-full bg-gray-100 border border-gray-300 rounded-lg shadow-sm p-2.5 text-gray-600">
                        <input type="email" id="submitterEmailInput" readonly disabled class="mt-1 block w-full bg-gray-100 border border-gray-300 rounded-lg shadow-sm p-2.5 text-gray-600">
                    </div>


                    <button type="submit" 
                            class="w-full flex items-center justify-center py-3 px-4 border border-transparent rounded-full shadow-md text-white bg-play-green hover:bg-active-blue-dark transition duration-150 font-semibold">
                        <i data-lucide="send" class="w-5 h-5 mr-2"></i>
                        App တင်သွင်းမည်
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="flex items-start justify-center min-h-screen pt-10 pb-20 px-4">
            <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg mt-10 transform transition-all modal-content">
                
                <div class="p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white rounded-t-xl z-10">
                    <h3 class="text-xl font-bold text-active-blue">အသုံးပြုသူ Profile</h3>
                    <button id="closeProfileModalBtn" class="text-gray-400 hover:text-gray-600 transition duration-150">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <div class="p-6 space-y-6">
                    <div class="flex flex-col items-center space-y-3 pb-4 border-b border-gray-100">
                        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-active-blue text-white font-bold text-2xl shadow-lg">
                            <span id="profileAvatarInitials">U</span>
                        </div>
                        <p id="profileDisplayName" class="text-xl font-bold text-gray-800">Unknown User</p>
                        <p id="profileDisplayEmail" class="text-sm text-gray-500">No Email Provided</p>
                        <p class="text-xs text-gray-400">User ID: <span id="currentUserIdSpan">...</span></p>
                    </div>

                    <div class="space-y-4">
                        <h4 class="text-lg font-semibold text-gray-700">Profile ပြင်ဆင်ရန်</h4>
                        <div>
                            <label for="profileNameInput" class="block text-sm font-medium text-gray-700">နာမည်</label>
                            <input type="text" id="profileNameInput" required 
                                   class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-active-blue focus:ring-active-blue">
                        </div>
                        <div>
                            <label for="profileEmailInput" class="block text-sm font-medium text-gray-700">Email</label>
                            <input type="email" id="profileEmailInput" 
                                   class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-active-blue focus:ring-active-blue">
                        </div>
                        <button id="profileSaveBtn" 
                                class="w-full flex items-center justify-center py-3 px-4 border border-transparent rounded-full shadow-md text-white bg-active-blue hover:bg-blue-700 transition duration-150 font-semibold">
                            <i data-lucide="save" class="w-5 h-5 mr-2"></i>
                            သိမ်းဆည်းမည်
                        </button>
                    </div>

                    <div id="adminLoginContainer" class="p-4 border border-red-200 bg-red-50 rounded-lg space-y-3">
                        <h4 class="text-lg font-semibold text-red-700 flex items-center"><i data-lucide="lock" class="w-5 h-5 mr-2"></i> Admin Login</h4>
                        <div>
                            <input type="text" id="adminUsernameInput" placeholder="Admin နာမည်" 
                                   class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-red-500 focus:ring-red-500">
                        </div>
                        <div>
                            <input type="password" id="adminPasswordInput" placeholder="လျှို့ဝှက်နံပါတ်" 
                                   class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-red-500 focus:ring-red-500">
                        </div>
                        <button onclick="window.attemptAdminLogin()" 
                                class="w-full flex items-center justify-center py-2 px-4 rounded-full shadow-md text-white bg-red-600 hover:bg-red-700 transition duration-150 font-semibold">
                            ဝင်ရောက်မည်
                        </button>
                    </div>
                    
                    <div id="adminPanelStatus" class="p-4 border border-green-200 bg-green-50 rounded-lg space-y-3 hidden">
                        <h4 class="text-lg font-semibold text-green-700 flex items-center"><i data-lucide="shield-check" class="w-5 h-5 mr-2"></i> Admin ဝင်ရောက်မှု အောင်မြင်ပါသည်။</h4>
                        <p class="text-sm text-gray-600">App များကို ပြင်ဆင်ခြင်း/ဖျက်ခြင်း ပြုလုပ်နိုင်ပါပြီ။</p>
                        <button onclick="window.logoutAdmin()" 
                                class="w-full flex items-center justify-center py-2 px-4 rounded-full shadow-md text-white bg-green-600 hover:bg-green-700 transition duration-150 font-semibold">
                            Admin မှ ထွက်ရန်
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
    
    <div id="editAppModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="flex items-start justify-center min-h-screen pt-10 pb-20 px-4">
            <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg mt-10 transform transition-all modal-content">
                
                <div class="p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white rounded-t-xl z-10">
                    <h3 class="text-xl font-bold text-yellow-600">Admin: App အချက်အလက် ပြင်ဆင်ခြင်း</h3>
                    <button id="closeEditModalBtn" class="text-gray-400 hover:text-gray-600 transition duration-150">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <form id="editAppForm" class="p-6 space-y-4">
                    <div>
                        <label for="editAppName" class="block text-sm font-medium text-gray-700">App နာမည်</label>
                        <input type="text" id="editAppName" name="editAppName" required 
                               class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-yellow-600 focus:ring-yellow-600">
                    </div>

                    <div>
                        <label for="editAppDescription" class="block text-sm font-medium text-gray-700">ဖော်ပြချက် (Description)</label>
                        <textarea id="editAppDescription" name="editAppDescription" rows="3" required 
                                  class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-yellow-600 focus:ring-yellow-600"></textarea>
                    </div>

                    <div>
                        <label for="editAppCategory" class="block text-sm font-medium text-gray-700">အမျိုးအစား (Category)</label>
                        <select id="editAppCategory" name="editAppCategory" required
                                class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 bg-white focus:border-yellow-600 focus:ring-yellow-600">
                            <option value="Utility">အသုံးဝင်မှု (Utility)</option>
                            <option value="Games">ဂိမ်း (Games)</option>
                            <option value="Social">လူမှုရေး (Social)</option>
                            <option value="Entertainment">ဖျော်ဖြေရေး (Entertainment)</option>
                        </select>
                    </div>

                    <div>
                        <label for="editMediaFireLink" class="block text-sm font-medium text-gray-700">ဒေါင်းလုတ်လင့်ခ် (Google Drive, MediaFire, Mega)</label>
                        <input type="url" id="editMediaFireLink" name="editMediaFireLink" required 
                               class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-yellow-600 focus:ring-yellow-600">
                    </div>
                    
                    <div>
                        <label for="editIconUrl" class="block text-sm font-medium text-gray-700">App Icon ပုံလင့်ခ် (URL)</label>
                        <input type="url" id="editIconUrl" name="editIconUrl" required 
                               class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-yellow-600 focus:ring-yellow-600">
                    </div>
                    

                    <button type="submit" 
                            class="w-full flex items-center justify-center py-3 px-4 border border-transparent rounded-full shadow-md text-white bg-yellow-600 hover:bg-yellow-700 transition duration-150 font-semibold">
                        <i data-lucide="settings" class="w-5 h-5 mr-2"></i>
                        App အချက်အလက် ပြင်ဆင်မည်
                    </button>
                </form>

                <div class="p-6 border-t border-gray-200 mt-4 space-y-4">
                    <h4 class="text-lg font-semibold text-red-700 flex items-center"><i data-lucide="trash-2" class="w-5 h-5 mr-2"></i> App ဖျက်ခြင်း</h4>
                    <p class="text-sm text-gray-600">ဤ App: **<span id="deleteAppNameToConfirm" class="font-bold text-red-600"></span>** ကို အပြီးတိုင်ဖျက်ရန် App နာမည်ကို အောက်ပါကွက်တွင် ရိုက်ထည့်ပါ။</p>
                    <div>
                        <input type="text" id="deleteConfirmationInput" placeholder="App နာမည်ကို ရိုက်ထည့်ပါ..." 
                               class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-2.5 focus:border-red-500 focus:ring-red-500">
                    </div>
                    <button onclick="window.confirmAndDelete()" 
                            class="w-full flex items-center justify-center py-2 px-4 rounded-full shadow-md text-white bg-red-600 hover:bg-red-700 transition duration-150 font-semibold">
                        <i data-lucide="alert-triangle" class="w-5 h-5 mr-2"></i>
                        ဖျက်ရန် အတည်ပြုပါ
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="toastNotification" class="fixed bottom-4 right-4 p-4 rounded-lg shadow-xl text-white transition-opacity duration-300 z-50 hidden opacity-0">
        </div>

</body>
</html>
